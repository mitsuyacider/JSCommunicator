webpackJsonp([1],{A8Js:function(t,e){},"B+1x":function(t,e,n){"use strict";(function(t){var i=n("mvHQ"),s=n.n(i),o=n("Zrlr"),a=n.n(o),r=n("wxAW"),c=n.n(r),l=n("YtJ0"),h=new(function(){function t(){a()(this,t)}return c()(t,[{key:"helloJavascript",value:function(t){var e=JSON.parse(t);console.log("helloJavascript:",e.message),l.a.dispatch("setMessage",e.message)}},{key:"helloNative",value:function(t){console.log("helloNative:",t),window.webkit.messageHandlers.helloNative.postMessage(t)}},{key:"postWordData",value:function(t){var e=s()(t);window.webkit.messageHandlers.onTapWord.postMessage(e)}}]),t}());e.a=h,t.NativeCommunicator=h}).call(e,n("DuR2"))},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s=n("B+1x"),o=n("Zrlr"),a=n.n(o),r=function t(){a()(this,t),this.position={},this.position.x=0,this.position.y=0,this.speed=0,this.text="",this.fontSize=10,this.fillStyle="rgb(255, 255, 255)"},c={name:"App",data:function(){return{posY:0,sentenceList:[],wordList:[],column:12}},computed:{screenSize:function(){return window.screen},context:function(){var t=document.getElementById("world").getContext("2d");return t}},mounted:function(){this.posY=0;for(var t=Math.floor((this.screenSize.width-5*this.column)/this.column),e=0;e<this.column;e++){var n=(t+5)*e,i=new r;i.position.x=n,i.position.y=0,i.fontSize=t,i.speed=1*Math.random()+.1,i.text="この作品の評価は高く、多くの鑑賞者から絶賛されています。"+e,i.fillStyle="rgb(100, 100, 100)",this.sentenceList.push(i)}for(var s=0;s<5;s++){var o=(t+5)*s,a=new r;a.position.x=o,a.position.y=0,a.fontSize=20*Math.random()+20,a.speed=1*Math.random()+.2,a.text="右手"+s,a.fillStyle="rgb(255, 255, 255)",this.wordList.push(a)}this.loopAnimation(),document.getElementById("world").onclick=this.onClickOnCanvas},methods:{onClickOnCanvas:function(t){var e=t.clientX,n=t.clientY,i=this.wordList.find(function(t){return t.position.x<e&&t.position.x+t.fontSize>e&&t.position.y<n&&t.position.y+t.fontSize*t.text.length>n});if(void 0!==i){console.log(i);var o={word:i.text,article:"AXIS Web"};s.a.postWordData(o)}},loopAnimation:function(){this.clearCanvas(),this.injectLanes(this.sentenceList),this.injectLanes(this.wordList),requestAnimationFrame(this.loopAnimation)},clearCanvas:function(){var t=this.screenSize.width,e=this.screenSize.height;this.context.clearRect(0,0,t,e)},injectLanes:function(t){for(var e=0;e<t.length;e++){var n=t[e];this.drawLane(n),n.position.y-=n.speed;var i=this.context.measureText("あ").width;n.position.y+i*n.text.length<0&&(n.position.y=this.screenSize.height)}},drawLane:function(t){var e=t.fontSize;this.context.font=e+"px メイリオ",this.context.fillStyle="rgb(255, 255, 255)";var n=t.text,i=t.position.x,s=t.position.y,o=this.context.measureText("あ").width;this.context.fillStyle="rgb(0, 0, 0)",this.context.fillRect(i,s,o,o*n.length),this.context.textBaseline="top",this.context.fillStyle=t.fillStyle;var a=this;n.split("\n").forEach(function(t,e){Array.prototype.forEach.call(t,function(t,n){a.context.fillText(t,i-o*e,s+o*n)})})}}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("canvas",{attrs:{id:"world",width:this.screenSize.width,height:this.screenSize.height}}),this._v(" "),e("p",[this._v("hello")])])},staticRenderFns:[]};var h=n("VU/8")(c,l,!1,function(t){n("A8Js")},null,null).exports;i.a.config.productionTip=!1,new i.a({el:"#app",components:{App:h},template:"<App/>"})},YtJ0:function(t,e,n){"use strict";var i=n("7+uW"),s=n("NYxO");i.a.use(s.a),e.a=new s.a.Store({namespaced:!0,state:{message:""},mutations:{setMessage:function(t,e){t.message=e}},actions:{setMessage:function(t,e){t.commit("setMessage",e)}},getters:{getMessageFromNative:function(t){return t.message}}})}},["NHnr"]);
//# sourceMappingURL=app.46fe9c12c8269a347846.js.map